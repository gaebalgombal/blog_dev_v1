# [회고]현실 속의 프로젝트를 진행하며

## 🙌 ‘현실' 속의 프로젝트를 진행하며

부트캠프를 수료한 뒤, 현실 속의 프로젝트, 진짜 유저들을 엔드 포인트로 하는 프로젝트를 진행해보기로 했다. 정해진 기간 안에 기능 구현만 하는 것이 아니라, 유저들이 진짜로 사용할 수 있도록 실제로 배포, 제공하는 서비스를 만들어보고 싶었다. 개발자로써 제대로 된 개발을 해보고 싶기도 했고, 현실 서비스로 유저들에게 도움을 주면 동기 부여도 될 것 같았다.

처음에 머리로만 생각했던 것과 달리 시행 착오를 많이 겪어야 했다. 언어를 배우고, 단순히 기능을 구현하는 것은 정말 개발의 일부분 중의 일부분일 뿐이며, 우리의 능력이 아직 한참 부족하다는 것도 뼈저리게 느낄 수 있었다.

## ⚒️ 갈 수 있어요! 프로젝트 원칙

1. **프로세스와 기술은 최대한 단순하게 시작한다.**
   - 좋아보이는 기술, 유명한 테크 블로그의 있어보이는 플로우를 따라하는 것이 아니라,
     프로젝트에 실제로 필요한 프로세스와 기술에서 시작한다.
2. **유저들을 위한 실제 서비스임을 고려한다.**
   - 프로젝트를 위한 프로젝트로 기능을 구현하는데 집중하는 게 아니라,
     실제 서비스를 공개적으로 배포하는데 필요한 것에 집중해야 한다. ex. 보안, 로깅, 이슈 관리 등
3. **문서화와 충분한 공유를 통해, 체계적으로 프로젝트를 관리한다.**
   - 깃 컨벤션을 문서화하고 팀원들과 충분히 공유해, 일관되게 관리한다.
   - API 명세를 문서화해, 프런트-백엔드가 충분히 협업할 수 있도록 한다.
4. **코드와 문서를 통합시켜 사람에 의한 실수를 줄인다.**
   - 코드와 문서가 따로 놀게 하지 않고, 코드 ⇒ 문서화로 연동시켜, 문서 작성을 까먹거나 하는 등, 사람에 의한 실수를 줄인다.
     ex. 깃헙 관리 / 칸반 보드가 따로 → 깃헙 관리 = 깃헙 ‘프로젝트’ 칸반보드로 연동
     ex. 구현사항 명세서와 코드가 따로 → 테스트 코드 = 구현사항 명세서로 활용
5. **원격으로 프로젝트를 진행할 수 있어야 한다.**
   - ‘사이드 프로젝트'이므로, 현실적으로 팀원들이 짬을 내 집에서 원격으로 프로젝트를 진행할 수 있는 시스템을 갖춰야 했다.

## ⚒️ git flow 와 배포전략

![git_flow](../../references/draft/2022.11_transportation/retrospection/git_flow.png)

### ⚙️ 기술과 프로세스는 최대한 단순하게

- 1 이슈 1 브랜치 정책
  규모가 큰 프로젝트가 아니므로 최대한 단순하게 1이슈당 1 브랜치로 단순하게 플로우를 가져가기로 했다.
  이슈는 노션과 채팅으로 충분히 공유할 수 있을 것이고, 처음부터 복잡하게 정책을 정하기 보다는, 일단 시행착오를 겪으며 문제가 있다면 수정을 해나가기로 했다.
- 배포 전략?
  - Master 브랜치(프로덕션 서버) + Develop 브랜치(개발 서버) 전략
    서버는 프로덕션 서버와 개발 서버 2개를, EC2로 배포하여 활용하기로 했다.팀원들이 집에서 편하게 원격으로 테스트하며 진행할 수 있고, 각각 EC2로 배포하는 것이 가장 간편해보였기 때문이다.
    모든 개발 구현 사항은 Develop 브랜치에 병합 후 개발 서버에 배포해, 프런트가 원격으로 E2E 테스트를 진행할 수 있도록 하고, Develop 브랜치에서 모든 개발이 끝난 후, Master 브랜치에 병합하여 실제 서비스로 공개 배포했다.

### ⚙️ 문서화와 충분한 공유로 협업을

깃 컨벤션을 미리 팀원들과 협의하고, 문서화해서 공유, 팀원들이 일관된 깃 컨벤션을 지키기로 협의했다.

[갈 수 있어요! Git 컨벤션](https://www.notion.so/Git-70bf578f74884ebeab6633b87e22f850?pvs=21)

## ⚒️ 어떤 기술을, 왜 사용했는가

### ⚙️ 기술과 프로세스는 최대한 단순하게

기술이 단순히 ‘핫하다니까' 쓰는 것은 불필요하다고 생각했다. 오히려 정말 필요한 기본만으로 견고한 서비스를 만드는 것이 더 중요하다. 그래서 프런트/백엔드 언어와 프레임워크로 시작했고, 진행하다가 필요하다고 생각할 때 기술을 도입했다.

- 왜, Docker를 사용했는가?
  Docker로 개발 환경을 구성하기로 한 이유는 간단했다. _~~M1 때문에~~_ 각자의 컴퓨터 환경이 너무 달라서, 개발 환경을 맞추기가 복잡했고, Docker로 개발환경을 구성하는 것이 **오히려 훨씬 간편했기 때문**이었다.
  가장 크게 문제가 된 것은 Mysql과 MariaDB의 충돌, 그리고 버전 컨트롤이었다. 이미 개발을 하면서 자주 쓰던 MySQL이 깔려있는 상태에서, MariaDB를 같이 깔면 충돌이 발생할 수 밖에 없었다. 게다가 이 놈의 새로 산 M1은 MariaDB, Django 등의 버전을 계속 최최신 버전으로만 깔아댔다. 안전한 구버전으로 특정하여 맞추고 싶은데 도무지 말을 들어먹지를 않았다. 단순히 미니콘다 등으로 버전 컨트롤을 할 수가 없었다. 때문에, M1 환경으로부터 격리된 환경에서 모두 동일한 개발 환경을 맞출 수 있는 방법이 필요했고, 그 방법에 가장 적합한 도커를 선택했다.
  그리고 실제로 도커로 개발환경을 구성해보니, 한 번 도커를 만들어 둔 후에는, 명령어 한 줄로 언제 어디서든 격리된 환경에서 동일한 환경을 바로 만들 수 있다는 것이 정말 편리했고, 계속 사용 중이다.
  _[🐳 Docker로 개발 환경을 구성해보았다. >>](https://www.notion.so/0f74d605aef74f9db0524f9982c05666?pvs=21)_
- 왜 피그마를 사용했는가?
  기획부터 우리가 직접 전부해나가기 때문에, 기획안도 직접 설계해야 했다. 말로만 논의하니 무엇을 구현해야 할지 감이 잡하지 않았고, PPT 기획안은 복잡하고, 역시 완성안이 잘 예상되지 않았다. **간단하면서도, 눈에 보이게 구상안을 볼 수 있는 방법이 필요했다.**
  [https://www.figma.com/file/HlVP8v9ro21PkmD9ytuIoc?embed_host=share&kind=&node-id=0%3A1&viewer=1](https://www.figma.com/file/HlVP8v9ro21PkmD9ytuIoc?embed_host=share&kind=&node-id=0%3A1&viewer=1)
- 왜, swagger를 사용하려 했는가, 그리고 왜 포기했는가?
  - 왜 swagger를 사용하려 했는가?
    swagger를 사용하려 했던 것은, **코드와 문서를 통합시켜 사람에 의한 실수를 줄이기 위해서였다.**
    일을 해본 사람들은 다 알겠지만, A도 작성하고 B도 작성하고 C도 작성하라고 하면 사람이기 때문에 어쩔 수 없이 누군가는 C를 작성하는 걸 깜빡한다. 그러다 C를 보고 다른 팀원이 일하면 일이 틀어진다.
    개발에서도 역시 코드와 문서가 따로 놀면 위험하다고 생각했다. API가 수정되었는데 API 문서가 업데이트가 되지 않고, 프런트는 옛날 문서를 보고 작업을 하는데 계속 안되는 상황을 상상해보자. 매우 흔한 일일 것이라는 것은 상상만으로도 알 수 있다. 게다가 일정이 다가오고, 정신없이 수정이 이루어진다면? 문서 작업은 번거롭고 귀찮고 빠뜨리기 십상이다.
    때문에, **작성된 코드를 자동으로 API 문서화시켜주는 도구를 사용하고 싶었고, 여러 API 문서화 도구 중, 코드 자동 연동 기능을 지원하는 것이 swagger이었기 때문에 swagger를 선택했다.**(단순히 문서를 텍스트로 작성하는 것을 도와주는 도구는 배제했다.)
  - 왜 포기했는가?
    막상 도입을 하고보니, 2가지 면에서 아쉬운 측면이 있었다. 1) 작성한 코드의 API를 100% 완벽하게 반영하지 못했고, 2) 이를 위해 (라이브러리 대신) 직접 swagger 코드를 작성하는 것은 가성비가 떨어졌다.
    프로젝트의 규모를 고려했을 때, 백엔드 API는 고작 5~6개 수준이었는데, 당장 swagger를 직접 코딩하기 위해 기술을 익히고, 안전하게 도입하기까지는 최소 1주일정도가 소요될 것으로 예상되었다. 하지만 우선순위인 기능 구현 사항도 아직 되어있지 않은 상황에서, 고작 대여섯개 API를 위해 일주일을 사용하는 것은 앞뒤가 바뀐 것이라 판단했다.
    결국, 일단 API는 직접 문서 작성을 하고, swagger 도입은 후순위로 미루기로 했다. 물론, 규모가 큰 프로젝트였고, 일정이 충분했다면 다시 고민을 해보아야했을 것이다.
    이를 계기로, 좋아보이는 신기술을 무작정 도입하는 것이 꼭 좋은 것이 아니라는 것을 새삼 실감할 수 있었다. **기술은 필요성과 편의성, 안전성, 우선순위와 일정을 모두 고려해서 선택해야 한다.**
  ## 🙌 나가며
  공부와 취준으로 바쁜 와중에, 게다가 우리 능력이 한참 부족해 프로젝트 진행은 예상보다 아주 느리게 기어가고 있다.🤪 하지만, 덕분에 이론으로 배울 수 없는 시행착오, 회사 직원이나 공부만으로 배울 수 없는 전체 프로젝트를 직접 설계하는 경험을 할 수 있었다. 느리더라도 끈질기게 이어가며 개발자 경험치를 계속해서 쌓아나가고자 한다. 🙌
